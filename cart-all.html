<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>购物车-All</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="css/amazeui.min.css" />
		<link rel="stylesheet" type="text/css" href="css/cart-edit.css" />
	</head>

	<body>
		<div class="am-g am-text-center am-padding-vertical-sm bg-width top-1">
			<div class="am-u-sm-3 tt">
				&nbsp;
			</div>
			<div class="am-u-sm-6">
				<a href="#" class="text-20">
					购物车
				</a>
			</div>

			<div class="am-u-sm-3 text-16 huise tt bianji">
				编辑
			</div>
		</div>
		<div class="am-g am-text-center am-padding-vertical-sm bg-width top-2">
			<div class="am-u-sm-3 tt quxiao">
				<a href="#" class="text-16 huise">
					取消
				</a>
			</div>
			<div class="am-u-sm-6">
				<a href="#" class="text-20">
					购物车
				</a>
			</div>
			<div class="am-u-sm-3 tt wancheng">
				<a href="#" class="text-16 huise">
					完成
				</a>
			</div>
		</div>
		<div class="am-g am-text-center text-12 am-padding-vertical-sm baozhang">
			<div class="am-u-sm-4">
				<i class="am-icon-circle"></i> 15天无忧退货
			</div>
			<div class="am-u-sm-4">
				<i class="am-icon-circle"></i> 48小时快速退款
			</div>
			<div class="am-u-sm-4">
				<i class="am-icon-circle"></i> 满49元免邮费
			</div>
		</div>
		<!--商品1-->
		<div class="am-text-center tanchuang">
			<div class="tanchuang-box relative huise">
				<img src="img/cart-no.png" width="63" height="45" />
				<p>还没有相关商品呢</p>
			</div>

		</div>
		<div class="goods-xq am-g am-text-center am-padding-vertical-sm bg-width">
			<div class="am-u-sm-1 yuan-pdd yuan-1">
				<i class="am-icon-circle-o color-9"></i>
				<!--<i class="am-icon-dot-circle-o yuan-2"></i>-->
			</div>
			<div class="am-u-sm-2 am-padding-0">
				<img src="img/tuijian6_24.png" width="90" height="95" />
			</div>
			<div class="am-u-sm-7 am-text-left">
				<p class="text-14 am-margin-top-sm book-name">阿勒泰的角落（四色典藏版）</p>
				<p class="text-12 color-9">已选：赠品四季手绘书签典藏套装</p>
				<p class="red text-14">￥<span class="prc">30.60</span></p>
			</div>
			<div class="am-u-sm-2 text-14 number">
				x1
			</div>
			<div class="am-u-sm-12 am-margin-horizontal-0 am-padding-horizontal-0">
				<div class="line1"></div>
			</div>
			<div class="am-u-sm-12 am-text-right am-margin-top-sm am-padding-right shuliang count">
				<span class="bord-1">-</span>
				<input type="" name="" id="" value="1" class="am-text-center text-18 num" />
				<span class="bord-2">+</span>
			</div>
		</div>
		<!--商品2-->
		<div class="goods-xq am-g am-text-center am-padding-vertical-sm bg-width">
			<div class="am-u-sm-1 yuan-pdd yuan-1">
				<i class="am-icon-circle-o color-9"></i>
				<!--<i class="am-icon-dot-circle-o yuan-2"></i>-->
			</div>
			<div class="am-u-sm-2 am-padding-0">
				<img src="img/tuijian6_24.png" width="90" height="95" />
			</div>
			<div class="am-u-sm-7 am-text-left">
				<p class="text-14 am-margin-top-sm book-name">阿勒泰的角落（四色典藏版）</p>
				<p class="text-12 color-9">已选：赠品四季手绘书签典藏套装</p>
				<p class="red text-14">￥<span class="prc">10.60</span></p>
			</div>
			<div class="am-u-sm-2 text-14 number">
				x1
			</div>
			<div class="am-u-sm-12 am-margin-horizontal-0 am-padding-horizontal-0">
				<div class="line1"></div>
			</div>
			<div class="am-u-sm-12 am-text-right am-margin-top-sm am-padding-right shuliang count">
				<span class="bord-1">-</span>
				<input type="" name="" id="" value="1" class="am-text-center text-18 num" />
				<span class="bord-2">+</span>
			</div>
		</div>
		<!--底部-->
		<div class="am-g am-text-center bg-width dingwei">
			<div class="am-u-sm-3 lh quanxuan-all">
				<i class="am-icon-circle-o color-9"></i> 全选
			</div>
			<div class="am-u-sm-3 am-text-left am-padding-horizontal-0 lh">
				已选（<span class="yixuan">1</span>）
			</div>
			<div class="am-u-sm-3 am-text-left lh red jiage">
				￥<span class="all-price">0</span>
			</div>
			<div class="del-pdd am-u-sm-3 xiadan">
				下单
			</div>
			<div class="del-pdd am-u-sm-3 shanchu">
				批量删除
			</div>
		</div>
		<div class="dibu-nav am-padding-bottom-sm">
			<div class="line3"></div>
			<div class="line4"></div>
			<div class="line3"></div>
			<div class="nav-footer text-12">
				<ul class="am-avg-sm-5 am-text-center">
					<li>
						<a href="index.html">
							<img class="" src="img/home-white.png" width="" height="35" />
							<p>首页</p>
						</a>
					</li>
					<li>
						<a href="footer-life.html">
							<img class="" src="img/tuijian66_12.png" width="" height="35" />
							<p>Life</p>
						</a>
					</li>
					<li>
						<a href="footer-fenlei.html">
							<img class="" src="img/tuijian66_14.png" width="" height="35" />
							<p>分类</p>
						</a>
					</li>
					<li>
						<a href="#">
							<img class="" src="img/cart-red-logo.png" width="" height="35" />
							<p class="red">购物车</p>
						</a>
					</li>
					<li>
						<a href="footer-person.html">
							<img class="" src="img/tuijian66_19.png" width="" height="35" />
							<p>个人</p>
						</a>
					</li>
				</ul>
			</div>
		</div>
		<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/amazeui.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				//加减
				$('.bord-1').click(function() {
					var x = $(this).parent().find('.num').val();
					if(x > 1) {
						x = --x;
						$(this).parent().find('.num').val(x);
						$(this).parent().siblings('.number').text('x' + x)
						jisuan();
					}
				})
				$('.bord-2').click(function() {
						var x = $(this).parent().find('.num').val();
						x = ++x;
						$(this).parent().find('.num').val(x);
						$(this).parent().siblings('.number').text('x' + x)
						jisuan();
					})
					//点击圆
				$('.yuan-pdd i').click(function() {
					if($(this).hasClass('am-icon-dot-circle-o')) {
						$(this).addClass('am-icon-circle-o').removeClass('am-icon-dot-circle-o')
					} else {
						$(this).addClass('am-icon-dot-circle-o').removeClass('am-icon-circle-o')
					}
					aa();
					bb();
					jisuan();
					geshu()

				})

				$(".quanxuan-all i").click(function() {
					if($(".quanxuan-all i").hasClass('am-icon-dot-circle-o')) {
						$(this).addClass('am-icon-circle-o').removeClass('am-icon-dot-circle-o')
						$('.yuan-pdd i').addClass('am-icon-circle-o').removeClass('am-icon-dot-circle-o');
					} else {
						$(this).addClass('am-icon-dot-circle-o').removeClass('am-icon-circle-o')
						$('.yuan-pdd i').addClass('am-icon-dot-circle-o').removeClass('am-icon-circle-o');
					}
					bb();
					jisuan();
					geshu()
				});

				//批量删除
				$('.shanchu').click(function() {
					var del = $('.am-icon-dot-circle-o').parents('.goods-xq')
					del.remove();
					cc();
					bb();
					jisuan()
				})

				//下单变背景的方法
				function bb() {
					$('.yuan-pdd i').each(function() {
						if($('.yuan-pdd i').hasClass('am-icon-dot-circle-o')) {
							$('.xiadan').css({
								'background-color': '#cc0000',
								'color': '#FFFFFF'
							})
							$('.jiage').css('color', '#cc0000');
							$('.shanchu').css({
								'background-color': '#cc0000',
								'color': '#FFFFFF'
							})
						} else {
							$('.xiadan').css({
								'background-color': '#999999',
								'color': '#cccccc'
							})
							$('.jiage').css('color', '#cccccc');
							$('.shanchu').css({
								'background-color': '#999999',
								'color': '#cccccc'
							})
						}
					})
				}
				//弹窗购物车空空无一物
				function cc() {
					if($('.goods-xq').length == 0) {
						$('.tanchuang').find('.tanchuang-box').show();
						$('.shanchu').css({
							'background-color': '#999999',
							'color': '#cccccc'
						});
						$('.all-price').text('00.00');
						$('.jiage').css('color', '#cccccc');
						$('.yixuan').text('0');
						$('.top-1').show();
						$('.top-2').hide();
						$('.quanxuan-all i').addClass('am-icon-circle-o').removeClass('am-icon-dot-circle-o')
					}
				}
				//点击编辑
				$('.bianji').click(function() {
						if($('.goods-xq').length != 0) {
							$(this).parent().hide();
							$('.top-2').show();
							$('.count').show();
							$('.xiadan').hide();
							$('.shanchu').show();
						}
					})
					//点击取消
				$('.quxiao').click(function() {
						$(this).parent().hide();
						$('.top-1').show();
						$('.count').hide();
						$('.xiadan').show();
						$('.shanchu').hide();
						if($('.number').text() == 'x1') {
							$('.number').text('x1')
						}
						bb();
					})
					//点击完成
				$('.wancheng').click(function() {
						$(this).parent().hide();
						$('.top-1').show();
						$('.count').hide();
						$('.xiadan').show();
						$('.shanchu').hide();
						bb()
					})
					//查找红圈方法
				function aa() {
					var str = '';
					$('.yuan-pdd i').each(function() {
						if($(this).hasClass('am-icon-dot-circle-o')) {
							str += '2'
						} else {
							str += '1'
						}
					})

					if(str.indexOf('1') == -1) {
						$('.quanxuan-all i').addClass('am-icon-dot-circle-o').removeClass('am-icon-circle-o')

					} else {
						$('.quanxuan-all i').addClass('am-icon-circle-o').removeClass('am-icon-dot-circle-o')

					}
				}
				//倍数计算

				//总价计算
				function jisuan() {
					var num = 0;
					$('.yuan-pdd i').each(function() {

						var flag = $(this).hasClass('am-icon-dot-circle-o')
						if(flag) {
							num += parseFloat($(this).parents('.goods-xq').find('.prc').text()) * parseInt($(this).parents('.goods-xq').find('input').val());

						}
					})
					$('.all-price').text(num.toFixed(2))
				}
				//已选个数
				function geshu() {
					var num2 = 0;
					$('.yuan-pdd i').each(function() {

						var flag = $(this).hasClass('am-icon-dot-circle-o')
						if(flag) {
							num2++;
						}
					})
					$('.yixuan').text(num2)
				}

			})
		</script>

	</body>

</html>